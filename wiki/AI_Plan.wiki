#summary AI related ideas and requirements

Just a bunch of rules, ideas, requirements to properly design a Hybrid GOAP system. The original game's AI behavior and algorithm is unknown. Probably it used some state machine and random task arbitration, along with cheating the planet and world simulations.

<wiki:toc max_depth="2" />

= Score/priority system evaluation considerations =

== Fleets ==

  * hitpoints damage ratio (ignoring shields)
  * attack/defense ratio
  * speed
    * -> time to meet with the target
      * planet: distance/speed
      * fleet: [need for good orbit estimation]

== Buildings ==
  * cost
    * -> build time
  * available space
  * when built, what will be its efficiency
    * for energy, build power plant(s) before?

== Production ==
  * cost
  * speed
    * -> time of completion
  * case when build capacity / step > cost -> wasted capacity if build order is 1

== Research ==
  * base cost
  * speed 12.5% - 200% based on investment
    * -> completion time can be adjusted

== Colony health ==

  * Counteract population decrease
    * reduce taxes
    * build morale improving buildings (Police for aliens, Bar&Stadium for humans)
  * Build for discrete demands
    * Fire department
    * Stadium
    * ColonyHub
  * Build for common shortages
    * energy
    * living space
    * food
    * police

Note: maybe exact effect-functions can be derived from the simulation mechanics to support this (e.g., f(Tax, Population) -> NewPopulation

= Enemy attacking fleet detected =

Remark: Target is known from the fleet itself. Need to compensate the human player

== Targets a planet ==

Own fleet actions:
  * Intercept fleet in space
    * avoid meeting point over one of the enemies fleet
    * potentially meet over one of our planet with space ground defenses
  * Reinforce target planet in orbit
  * Use multiple fleets

Planet's actions:
  # Deploy tanks from inventory
    * and/or Produce if enough time
  # Deploy stations from inventory
    * if military spaceport available
      * build station if enough time
    * if no military spaceport available
      * (build stations and military spaceport) if enough time
  # Build more guns if enough time
  # Build a shield if enough time
  # Ensure there is enough power to the defenses
    * build power plant
    * turn off other buildings
  
== Targets a fleet ==

Own fleet actions:
  * Do not react
  * Calculate interception with current headings
    * if over one of the enemy's planet, choose flee...
  * If already damaged, move to repair
  * Flee to a planet with strong defenses
    * Consider upgrading the target planet's defenses in the mean time (see planet actions above)
  * Another fleet move to intercept (see fleet actions above)

= Peace time =

== Research ==

  * list of technology with tech prerequisites met
  * if enough labs, do it
  * if total lab count <= planet count
    * demolish and rebuild labs according to it
      * A`*` or another planning layer would be beneficial here
        * reduce rebuild amount
        * anticipate new tech becoming researchable
  * else colonize new planet(s)
  * or else capture planet(s)
    * having the lab already built
  * consider partial research
  * consider mixing the rebuild, capture and colonize
