#summary Questions and answers about the project and the code
<wiki:toc max_depth="3" />
= Introduction =

I collected some (not yet frequently asked) questions and answers about the Open-IG project.

= Questions & Answers =

== Why did you start this project? ==
Recently I pulled my old Imperium Galactica game and played with it using DOSBox. I noticed the age of this game, how the 640x480 resolution was too small and how unresponsive it worked. I figured out that maybe I could create a resizable game 
interface. Luckily, the images, sound and animation is present, therefore I just need to create the engine to play it.

== Where did the inspiration came from? ==
My another old-time favorite is Open Transport Tycoon Deluxe, which started out as a modern time version of the old DOS program. Luckily, the rendering in Imperium Galactica much simpler.

== What new features are you talking about? ==
At this stage, these are only plans:

  * Resizable game window.
  * Load savegame files from the original game
  * Extension points to GUI, Tech tree, AI and whatnot.
  * Introduction of Easy and Custom difficulties
  * Multi-slot autosave support
  * Skirmish and multiplayer game

These features might seem a bit too large, but because the original game is a
very simple 2D game with well predictable data modell, it wouldn't be hard in my opinion.

== What version of the game does Open-IG support? ==

The targeted original game version is 1.3, which as I think, corrected some gameplay and DOS execution problems on fast machines. Unfortunately, the patch file is an MS-DOS executable, therefore, If you wan't a patched game on Linux for example, you have to extract the contents on a Windows box. Currently, I'm not sure if the project would be allowed to carry a zip repacked version of the patched files. ~~(Note: the game's EXE files are not needed for the Open-IG to run.)~~ 

The Open-IG should run just fine with the English and Hungarian versions of the game ~~(although I have only the English version)~~.

== Isn't the game copyrighted? ==
Yes, the original game's copyright belongs to GT Interactive or Digital Reality. Because this project does not include any file from the original distribution, my take is that this shouldn't be a problem. You need to legally own the original game to be able to use Open-IG.

== Why Java? ==
I'm a Java developer so it was a simple decision. As a side effect, the Open-IG will be playable on any platform which supports the recent versions of Java.

== When will we see the source? ==
~~Soon. Unfortunately, the current source code is used to do some proof-of-concept rendering and game resource analysis. It has hand coded filenames and undocumented functions. They don't suit the format of a proper open source project yet.~~
Source code of the latest stable build is available as download. The most recent changes can be checked out from the SVN. There are no plans for nightly builds.

== What kind of resources does the game use? ==
The original Imperium Galactica had several standard and non-standard files:

  * Images of the UI, ships, buildings etc. are stored in 8 bit [http://en.wikipedia.org/wiki/PCX PCX] files.
  * Some plain text files with labels, scripts, possibly using the ISO-8859-2 charset.
  * Some custom binary files for planet description, tech tree, etc.
  * Most of the previous files are stored in a PAC file, which is basically contains a directory of file names and sizes followed by the uncompressed file data
  * Sound files are in SND files which contain a raw 22050Hz 8 bit 1 channel signed PCM audio
  * Music files are stored in XMF files, whose structure I could not decipher yet. All I know it contains samples in the previous audio format at the end of the file.
  * The animations are stored in a custom binary file in a block structure containing Palette, Sound and Image data. The image data doubly packed first by an [http://code.google.com/p/open-ig/wiki/Custom_RLE custom RLE] compression and then by a [http://code.google.com/p/open-ig/wiki/Custom_LZSS custom LZSS] algorithm. See the links for the sample decompression algorithms.

==How did you find these out? ==
The text and image formats were trivial case. The deciphering of the ANI files took one week of visual analysis (e.g. I stared at the data bytes).

== Can I comment/join? ==
~~I disabled the commenting of this project until I produce enough resources (wiki pages and source files) to be meaningful.~~
You can comment on the wiki pages. Joining the project still is a bit in the future. 

Joining to this project will be enabled when there is at least something to actually run. I'm still figuring out the proper coding style and structure of this project.

== What about donations? ==
Never. Spend your money for something useful.

== New: Why does Open-IG take up so much resources? ==
The original game ran on a 486 with 16 MB of memory in DOS. But these hardware requirements made the developers have some compromises:
  * Simpler UI animations, graphical shortcuts
  * Graphic resources are cached and loaded on demand, causing delays on screen switches
In reflection of that, Open-IG is written in Java for modern machines and operating systems. But these have some effects on the game components:
  * The code runs in a virtual machine, which has some memory and runtime overhead
  * All game resources except the animations are loaded into memory, using 70MB of memory
  * The in memory representation of the game images use 32bit RGBA. Compared to the 8 bit compressed PCX images, this is a 4 - 10 times of increase
But these properties on todays computers are not bad at all. Here is why:
  * Plenty of memory is available in modern computers, 1GB on average. Open-IG consumes below 128MB, therefore, there remains enough room for the OS, your browser etc.
  * Java uses JIT to compile the hot spots of the code, eliminating any interpretation overhead
  * Rendering is mostly accelerated by GPU which likes 32 bit images
  * Threading is heavily used which might utilize multiple cores
  * Event and timer driven rendering instead of a main loop to consume all CPU.

== New: Why is the development slow? ==
It has some aspects:
  * I develop it alone, I test it alone and I spend my spare time to develop it.
  * Each screen has enormous amount of small pieces: buttons, text, clickable obects etc. These have to be placed, wired together manually to resemble to the original screen and behavior. Most screens are not even buildable/testable until a real data modell is under it (this is the case with the recently enhanced information screen). This needs lots of testing and comparison with the original game.

== New: What languages are supported ==
The current version has English and Hungarian labels. These labels are not extracted from the original game files (they reside in the MAIN.EXE file but the location varies between languages and game wersions) due the aim of the Open-IG project: extensibility. There is an XML file /hu/openig/res/labels.xml which contains the labels.

== New: Can I change the language? ==
It might be possible to change the language on textual labels at runtime, but currently no UI is provided for that. However, the game images (buttons, etc.) have fixed language (hungarian or english). Unless you have the original english or hungarian Imperium Galactica files, you cannot do much about it.

== New: Why is there no music? ==
I wasn't able to decode the music files yet, and it seems I won't ever. However, music playback is not outcast from Open-IG. We have an integrated JOrbis OGG player along with native WAV support to play back external music files. I already have created the .ogg files from the original game music (I let the game itself play it back and recorded it using DOSBox), but I am pretty certain I am not allowed to make them available bundled in the jar file. However, I will enhance the Open-IG to play user supplied music and you can use your .ogg/.wav file for game music.

== New: What differences exist between the varius language versions of the original game? ==
Apart from having different language labels, there is a really subtle difference in the game's animation files. Strangely, in the english version these animations are in lower resolution, about 2/3 of the hungarian version. The reason is unknown. Certainly, the size gain is neglectible as the english version is still occupying 2 CDs with total size of 1.1GB.

== New: Will the Open-IG contain the famous "รก la Bokros" tax setting? ==
Yes it will/does already. For non-hungarian players to understand, "รก la Bokros" tax settings is a practical joke about a hungarian economic minister who was in charge during the development of the original game around 1995. This minister has increased the taxing level beyond anything seen before to 'fight' the economic crisis of that time. The game developers wanted to capture this not so famous deed in the game. In the english version, the top tax level was simply named Oppressive.

== New: How can I use the checked-out source code? ==
I advise to use an IDE and import the source code as a Java project. You can also directly check out code from the SVN repository in most IDEs (you might need third party SVN plugins).